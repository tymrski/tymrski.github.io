<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Premium Case Shop | Extreme Design Studio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #1e88e5;
      --primary-dark: #0d47a1;
      --bg: #0f172a;
      --white: #ffffff;
      --surface: #1e293b;
      --text: #f8fafc;
      --text-light: #94a3b8;
      --shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
      --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      --accent: #f43f5e;
      --accent-glow: 0 0 15px rgba(244, 63, 94, 0.4);
      --gradient: linear-gradient(135deg, #1e88e5 0%, #7c3aed 100%);
    }

    body {
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg);
      margin: 0;
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    .top-bar {
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(15px);
      color: white;
      padding: 15px 5%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
      position: sticky;
      top: 0;
      z-index: 2000;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .cart-info {
      font-weight: 700;
      font-size: 1.2rem;
      text-shadow: 0 0 10px rgba(30, 136, 229, 0.5);
    }

    .lang-container select {
      padding: 10px 15px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: var(--surface);
      color: white;
      font-family: inherit;
      cursor: pointer;
      outline: none;
      transition: 0.3s;
    }

    .lang-container select:hover {
      border-color: var(--primary);
    }

    .hero {
      padding: 100px 20px 60px;
      background: radial-gradient(circle at top, #1e293b 0%, #0f172a 100%);
      text-align: center;
      position: relative;
    }

    .hero::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100px;
      background: linear-gradient(to bottom, transparent, var(--bg));
    }

    h1 {
      font-weight: 900;
      margin: 0 0 10px 0;
      font-size: 4rem;
      letter-spacing: -2px;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .hero p {
      color: var(--text-light);
      font-size: 1.2rem;
      max-width: 600px;
      margin: 10px auto;
    }

    .studio-section {
      padding: 80px 5%;
      position: relative;
    }

    .studio-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 50px;
      flex-wrap: wrap;
      margin-top: 40px;
    }

    .drawing-board {
      background: var(--surface);
      padding: 30px;
      border-radius: 30px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.05);
      max-width: 400px;
    }

    canvas {
      background: white;
      border-radius: 20px;
      cursor: crosshair;
      touch-action: none;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1);
    }

    .tools-pane {
      margin-top: 25px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .tool-group {
      background: rgba(0, 0, 0, 0.2);
      padding: 15px;
      border-radius: 20px;
    }

    .tool-label {
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--text-light);
      margin-bottom: 10px;
      display: block;
    }

    .emoji-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 10px;
      max-height: 150px;
      overflow-y: auto;
      padding-right: 5px;
    }

    .emoji-grid::-webkit-scrollbar {
      width: 4px;
    }

    .emoji-grid::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 10px;
    }

    .emoji-btn {
      font-size: 1.8rem;
      cursor: pointer;
      transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      background: rgba(255, 255, 255, 0.05);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 5px;
      border-radius: 10px;
    }

    .emoji-btn:hover {
      transform: scale(1.3);
      background: rgba(255, 255, 255, 0.1);
    }

    .controls-row {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .btn {
      padding: 15px 25px;
      border: none;
      border-radius: 16px;
      cursor: pointer;
      font-weight: 700;
      font-family: inherit;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-size: 1rem;
    }

    .btn-primary {
      background: var(--gradient);
      color: white;
      box-shadow: 0 10px 20px rgba(30, 136, 229, 0.3);
    }

    .btn-secondary {
      background: var(--surface);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .btn-glow {
      background: var(--accent);
      color: white;
      box-shadow: var(--accent-glow);
    }

    .btn:hover {
      transform: translateY(-5px) scale(1.02);
    }

    .btn:active {
      transform: scale(0.98);
    }

    .preview-column {
      position: sticky;
      top: 120px;
    }

    .phone-mockup {
      width: 320px;
      height: 600px;
      background: #050505;
      border-radius: 50px;
      position: relative;
      padding: 15px;
      box-shadow: 0 50px 100px rgba(0, 0, 0, 0.8);
      border: 4px solid #1a1a1a;
    }

    .phone-case {
      width: 100%;
      height: 100%;
      background: #fff;
      border-radius: 40px;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.1);
    }

    .bezel-glow {
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      border-radius: 54px;
      background: linear-gradient(var(--bg), var(--bg)) padding-box, var(--gradient) border-box;
      border: 2px solid transparent;
      pointer-events: none;
      z-index: -1;
    }

    .camera-island {
      width: 80px;
      height: 80px;
      background: #000;
      position: absolute;
      top: 30px;
      left: 30px;
      border-radius: 20px;
      z-index: 10;
      display: flex;
      flex-wrap: wrap;
      padding: 8px;
      gap: 5px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    }

    .lens {
      width: 25px;
      height: 25px;
      background: #080808;
      border-radius: 50%;
      border: 1px solid #222;
    }

    #design-overlay {
      width: 100%;
      height: 100%;
      object-fit: contain;
      pointer-events: none;
      position: absolute;
      top: 0;
      left: 0;
      transition: opacity 0.5s ease;
    }

    .container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 30px;
      padding: 100px 5%;
      max-width: 1400px;
      margin: 0 auto;
    }

    .card {
      background: var(--surface);
      width: 320px;
      padding: 40px;
      border-radius: 30px;
      box-shadow: var(--card-shadow);
      border: 1px solid rgba(255, 255, 255, 0.05);
      transition: 0.4s;
      text-align: center;
    }

    .card:hover {
      transform: translateY(-15px);
      border-color: var(--primary);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }

    .case-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      display: block;
      filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
    }

    .price {
      font-size: 2rem;
      font-weight: 900;
      color: var(--primary);
      margin: 20px 0;
    }

    .instruction-overlay {
      background: rgba(30, 136, 229, 0.1);
      border-radius: 20px;
      padding: 15px;
      margin-bottom: 25px;
      border: 1px dashed var(--primary);
    }

    #loading-bar {
      position: fixed;
      top: 0;
      left: 0;
      height: 4px;
      background: var(--gradient);
      width: 0;
      z-index: 3000;
      transition: width 0.3s;
    }
  </style>
</head>

<body>
  <div id="loading-bar"></div>

  <div class="top-bar">
    <div class="cart-info" id="cart-text">üõí KOSZYK: 0 SZT.</div>
    <div class="lang-container">
      <select id="lang-select" onchange="changeLanguage(this.value)">
        <option value="pl">Polski</option>
        <option value="en">English</option>
        <option value="es">Espa√±ol</option>
        <option value="de">Deutsch</option>
        <option value="zh">‰∏≠Êñá</option>
      </select>
    </div>
  </div>

  <div class="hero">
    <h1 id="main-title">ELITE CASE STUDIO</h1>
    <p id="hero-subtitle">Najbardziej zaawansowany kreator personalizacji w sieci.</p>
    <div style="margin-top: 30px;">
      <select id="model-select" class="btn btn-secondary" style="display:inline-block; width: auto;">
        <option>iPhone 15 Pro Max</option>
        <option>Samsung Galaxy S24 Ultra</option>
        <option>Google Pixel 8 Pro</option>
        <option>Xiaomi 14 Ultra</option>
      </select>
    </div>
  </div>

  <div class="studio-section">
    <div class="studio-container">
      <div class="drawing-board">
        <div class="instruction-overlay" id="drag-tip">
          üí° <b>PRO TIP:</b> PrzeciƒÖgnij emoji myszkƒÖ po ich dodaniu. Podw√≥jne klikniƒôcie usuwa element!
        </div>

        <canvas id="paintCanvas" width="340" height="550"></canvas>

        <div class="tools-pane">
          <div class="tool-group">
            <span class="tool-label">Pƒôdzel i Kolory</span>
            <div class="controls-row">
              <input type="color" id="colorPicker" value="#1e88e5"
                style="width: 50px; height: 50px; border: none; background: none; cursor: pointer;">
              <input type="range" id="brushSize" min="1" max="80" value="8" style="flex-grow: 1;">
              <span id="brush-val" style="width: 30px; font-weight: 700;">8</span>
            </div>
          </div>

          <div class="tool-group">
            <span class="tool-label">Mega Emoji Panel</span>
            <div class="emoji-grid" id="emoji-grid">
              <!-- Dynamically populated -->
            </div>
          </div>

          <div class="controls-row" style="flex-direction: column;">
            <button class="btn btn-secondary btn-file" onclick="document.getElementById('imageLoader').click()">
              üñºÔ∏è PRO IMPORT GRAFIKI
            </button>
            <input type="file" id="imageLoader" accept="image/*" style="display:none">

            <div class="controls-row" style="width: 100%;">
              <button class="btn btn-secondary" style="flex: 1;" onclick="clearCanvas()">üóëÔ∏è CZY≈öƒÜ</button>
              <button class="btn btn-primary" style="flex: 2;" onclick="applyToCase()">‚ú® GENERUJ PROJEKT</button>
            </div>
          </div>
        </div>
      </div>

      <div class="preview-column">
        <div class="phone-mockup">
          <div class="bezel-glow"></div>
          <div class="phone-case">
            <div class="camera-island">
              <div class="lens"></div>
              <div class="lens"></div>
              <div class="lens"></div>
              <div class="lens"></div>
            </div>
            <img id="design-overlay" src="" alt="">
          </div>
        </div>
        <p style="text-align: center; margin-top: 30px; font-weight: 900; letter-spacing: 2px;" id="preview-label">LIVE
          PREVIEW</p>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="card">
      <span class="case-icon">üíé</span>
      <h2 id="card1-title">Ultra Sapphire</h2>
      <p id="card1-desc">Wzmocnione szk≈Ço i diamentowy blask.</p>
      <div class="price">129 PLN</div>
      <button class="btn btn-primary" onclick="addToCart()">DO KOSZYKA</button>
    </div>
    <div class="card">
      <span class="case-icon">‚ö°</span>
      <h2 id="card2-title">Carbon Pro</h2>
      <p id="card2-desc">Prawdziwe w≈Ç√≥kno wƒôglowe. Niezniszczalne.</p>
      <div class="price">189 PLN</div>
      <button class="btn btn-primary" onclick="addToCart()">DO KOSZYKA</button>
    </div>
    <div class="card">
      <span class="case-icon">üåà</span>
      <h2 id="card3-title">Holographic</h2>
      <p id="card3-desc">Zmienia kolory pod kƒÖtem ≈õwiat≈Ça.</p>
      <div class="price">99 PLN</div>
      <button class="btn btn-primary" onclick="addToCart()">DO KOSZYKA</button>
    </div>
  </div>

  <script>
    const emojis = ["üî•", "‚ú®", "‚ù§Ô∏è", "üòé", "üåà", "üëæ", "üçï", "‚≠ê", "üöÄ", "üíé", "üëª", "ü¶Ñ", "‚ö°", "üçÄ", "üëë", "üçï", "üê±", "üê∂", "üêµ", "ü¶Å", "üêØ", "üêº", "üê∏", "üê∑", "üé∏", "üéß", "üé¨", "üé®", "üéÆ", "üëæ", "üëΩ", "ü§ñ", "ü•ë", "üç©", "üçî", "üç¶"];

    const translations = {
      pl: { cart: "üõí KOSZYK: {count} SZT.", title: "ELITE CASE STUDIO", subtitle: "Najbardziej zaawansowany kreator personalizacji w sieci.", clear: "üóëÔ∏è CZY≈öƒÜ", apply: "‚ú® GENERUJ PROJEKT", import: "üñºÔ∏è PRO IMPORT GRAFIKI", preview: "LIVE PREVIEW", tip: "üí° PRO TIP: PrzeciƒÖgnij emoji myszkƒÖ. Podw√≥jne klikniƒôcie usuwa element!" },
      en: { cart: "üõí CART: {count} PCS.", title: "ELITE CASE STUDIO", subtitle: "The most advanced customization engine on the web.", clear: "üóëÔ∏è CLEAR", apply: "‚ú® GENERATE DESIGN", import: "üñºÔ∏è PRO IMAGE IMPORT", preview: "LIVE PREVIEW", tip: "üí° PRO TIP: Drag emojis with your mouse. Double click to remove!" },
      es: { cart: "üõí CARRITO: {count} UD.", title: "ESTUDIO ELITE", subtitle: "El motor de personalizaci√≥n m√°s avanzado de la web.", clear: "üóëÔ∏è BORRAR", apply: "‚ú® GENERAR DISE√ëO", import: "üñºÔ∏è IMPORTAR IMAGEN", preview: "VISTA PREVIA", tip: "üí° TIP: ¬°Arrastra los emojis! ¬°Doble clic para borrar!" },
      de: { cart: "üõí WARENKORB: {count} STK.", title: "ELITE STUDIO", subtitle: "Die fortschrittlichste Engine im Web.", clear: "üóëÔ∏è LEEREN", apply: "‚ú® DESIGN GENERIEREN", import: "üñºÔ∏è BILD IMPORTIEREN", preview: "VORSCHAU", tip: "üí° PRO TIP: Emojis ziehen zum Verschieben. Doppelklick zum L√∂schen!" },
      zh: { cart: "üõí Ë¥≠Áâ©ËΩ¶: {count} ‰ª∂", title: "Á≤æËã±Â∑•‰ΩúÂÆ§", subtitle: "ÁΩëÁªú‰∏äÊúÄÂÖàËøõÁöÑÈ´òÂ∫¶ÂÆö„ÄÇÂà∂ÂåñÂπ≥Âè∞„ÄÇ", clear: "üóëÔ∏è Ê∏ÖÈô§", apply: "‚ú® ÁîüÊàêËÆæËÆ°", import: "üñºÔ∏è ÂØºÂÖ•ÂõæÁâá", preview: "ÂÆûÊó∂È¢ÑËßà", tip: "üí° ÊèêÁ§∫ÔºöÊãñÂä®Ë°®ÊÉÖÁ¨¶Âè∑ÔºåÂèåÂáªÂèØÂà†Èô§ÔºÅ" }
    };

    let count = 0, currentLang = 'pl';
    const canvas = document.getElementById('paintCanvas'), ctx = canvas.getContext('2d');
    let elements = [], isDrawing = false, isDragging = false, dragIndex = -1, offsetX, offsetY;
    const drawingLayer = document.createElement('canvas');
    drawingLayer.width = 340; drawingLayer.height = 550;
    const dctx = drawingLayer.getContext('2d');

    // Init Emoji Grid
    const emojiGrid = document.getElementById('emoji-grid');
    emojis.forEach(e => {
      const span = document.createElement('span');
      span.className = 'emoji-btn';
      span.innerText = e;
      span.onclick = () => addElement('emoji', e);
      emojiGrid.appendChild(span);
    });

    function updateCart() { document.getElementById("cart-text").innerText = translations[currentLang].cart.replace("{count}", count); }
    function addToCart() {
      count++;
      updateCart();
      document.getElementById('loading-bar').style.width = '100%';
      setTimeout(() => document.getElementById('loading-bar').style.width = '0', 500);
    }

    function changeLanguage(lang) {
      currentLang = lang; const t = translations[lang];
      document.getElementById("main-title").innerText = t.title;
      document.getElementById("hero-subtitle").innerText = t.subtitle;
      document.getElementById("preview-label").innerText = t.preview;
      document.getElementById("drag-tip").innerHTML = t.tip;
      updateCart();
    }

    function render() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.drawImage(drawingLayer, 0, 0);
      elements.forEach((el, index) => {
        ctx.save();
        if (dragIndex === index) {
          ctx.shadowBlur = 15; ctx.shadowColor = '#1e88e5';
        }
        if (el.type === 'emoji') {
          ctx.font = `${el.size}px Outfit`;
          ctx.fillText(el.content, el.x, el.y);
        } else {
          ctx.drawImage(el.content, el.x, el.y, el.width, el.height);
        }
        ctx.restore();
      });
    }

    function addElement(type, content) {
      if (type === 'emoji') {
        elements.push({ type, content, x: 140, y: 270, size: 60 });
      } else {
        const img = new Image();
        img.onload = () => {
          elements.push({ type, content: img, x: 50, y: 150, width: 200, height: 200 });
          render();
        };
        img.src = content;
      }
      render();
    }

    function getPos(e) {
      const rect = canvas.getBoundingClientRect();
      const x = (e.clientX || (e.touches && e.touches[0].clientX)) - rect.left;
      const y = (e.clientY || (e.touches && e.touches[0].clientY)) - rect.top;
      return { x, y };
    }

    canvas.addEventListener('mousedown', (e) => {
      const pos = getPos(e);
      dragIndex = -1;
      for (let i = elements.length - 1; i >= 0; i--) {
        const el = elements[i];
        const hit = el.type === 'emoji' ?
          (pos.x > el.x && pos.x < el.x + 60 && pos.y < el.y && pos.y > el.y - 60) :
          (pos.x > el.x && pos.x < el.x + el.width && pos.y > el.y && pos.y < el.y + el.height);
        if (hit) { dragIndex = i; break; }
      }

      if (dragIndex !== -1) {
        isDragging = true;
        offsetX = pos.x - elements[dragIndex].x;
        offsetY = pos.y - elements[dragIndex].y;
      } else {
        isDrawing = true;
        dctx.beginPath(); dctx.moveTo(pos.x, pos.y);
      }
      render();
    });

    // Double click to delete
    canvas.addEventListener('dblclick', (e) => {
      const pos = getPos(e);
      elements = elements.filter(el => {
        const hit = el.type === 'emoji' ?
          (pos.x > el.x && pos.x < el.x + 60 && pos.y < el.y && pos.y > el.y - 60) :
          (pos.x > el.x && pos.x < el.x + el.width && pos.y > el.y && pos.y < el.y + el.height);
        return !hit;
      });
      render();
    });

    window.addEventListener('mousemove', (e) => {
      const pos = getPos(e);
      if (isDragging) {
        elements[dragIndex].x = pos.x - offsetX;
        elements[dragIndex].y = pos.y - offsetY;
        render();
      } else if (isDrawing) {
        dctx.lineWidth = document.getElementById('brushSize').value;
        dctx.lineCap = 'round'; dctx.strokeStyle = document.getElementById('colorPicker').value;
        dctx.lineTo(pos.x, pos.y); dctx.stroke(); render();
      }
    });

    window.addEventListener('mouseup', () => { isDragging = false; isDrawing = false; render(); });

    // Size Slider Visual
    document.getElementById('brushSize').oninput = function () {
      document.getElementById('brush-val').innerText = this.value;
    };

    function clearCanvas() {
      elements = []; dctx.clearRect(0, 0, 340, 550);
      document.getElementById('design-overlay').style.opacity = '0';
      setTimeout(() => { document.getElementById('design-overlay').src = ""; }, 500);
      render();
    }

    function applyToCase() {
      const bar = document.getElementById('loading-bar');
      bar.style.width = '30%';
      setTimeout(() => {
        bar.style.width = '100%';
        document.getElementById('design-overlay').src = canvas.toDataURL();
        document.getElementById('design-overlay').style.opacity = '1';
        setTimeout(() => bar.style.width = '0', 400);
      }, 300);
    }

    document.getElementById('imageLoader').onchange = (e) => {
      const reader = new FileReader();
      reader.onload = (ev) => addElement('image', ev.target.result);
      reader.readAsDataURL(e.target.files[0]);
    };

    // Responsive Canvas
    render();
  </script>
</body>

</html>